name: gen_sram_macro

commands:
  - python inputs/adk/gen_srams.py
  - sed --in-place '/^\s*SITE.*\;/d' outputs/*.lef

inputs:
  - adk

outputs:
  - sram.v
  - sram.lef
  - sram-typical.lib
  - sram-bc.lib
  - sram-wc.lib
  - sram-typical.db
  - sram-bc.db
  - sram-wc.db
  - sram.gds
  - sram.oas
  - sram.spi

parameters:
  # SRAM Families:
  # SRAM_1P: single-port SRAM
  # RF_2P: two-port register file
  sram_family: "SRAM_1P"
  num_words: 512
  word_size: 32
  mux_size: 4
  tt_corner: "tttt_0.85v_25c"
  bc_corner: "pfff_0.89v_-40c"
  wc_corner: "psss_0.765v_125c"

postconditions:
   # Sanity check to see if we at least got one sram
   - assert File( 'outputs/sram-typical.lib' )
   - assert File( 'outputs/sram-bc.lib' )
   - assert File( 'outputs/sram-wc.lib' )
   - assert File( 'outputs/sram-typical.db' )
   - assert File( 'outputs/sram-bc.db' )
   - assert File( 'outputs/sram-wc.db' )
